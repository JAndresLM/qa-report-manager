<div class="uk-overflow-auto uk-card uk-card-default">
  <div class="uk-card-header">
    <div class="" uk-grid>
      <div class="uk-width-1-3">
        <mat-form-field class="width-50">
          <mat-select placeholder="Display data for">
            <mat-option *ngFor="let timeLapse of timeLapses" [value]="timeLapse.value" (click)="updateGraph()">
              {{timeLapse.viewValue}}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <div class="uk-width-1-3">
        <mat-form-field>
          <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Filter by keywords">
        </mat-form-field>
      </div>
      <div class="uk-width-1-3 uk-text-right">
        <mat-button-toggle-group #group="matButtonToggleGroup">
          <mat-button-toggle value="table" (click)="selectTableView()" [ngClass]="{'selected-toggle': !isGraphDisplayed()}">
            <mat-icon>list</mat-icon>
          </mat-button-toggle>
          <mat-button-toggle value="graph" (click)="selectGraphView()" [ngClass]="{'selected-toggle': isGraphDisplayed()}">
            <mat-icon>timeline</mat-icon>
          </mat-button-toggle>
        </mat-button-toggle-group>
      </div>
    </div>
  </div>
  <div class="uk-card-body">
    <div class="example-container" [hidden]="isGraphDisplayed()">

      <mat-table [dataSource]="dataSource" matSort>
        displayedColumns = ['status', 'build_number', 'date', 'duration', 'total_tcs', 'passed_tcs', 'failed_tcs',
        'pass_rate', 'reports'];

        <!-- Status Column -->
        <ng-container matColumnDef="status">
          <mat-header-cell *matHeaderCellDef mat-sort-header> Status </mat-header-cell>
          <!--<mat-cell *matCellDef="let row"> {{row.status}} </mat-cell>-->
          <mat-cell *matCellDef="let row"><a class="uk-icon-button blue-icon"></a></mat-cell>
        </ng-container>

        <!-- Build Number Column -->
        <ng-container matColumnDef="build_number">
          <mat-header-cell *matHeaderCellDef mat-sort-header> Build Number </mat-header-cell>
          <mat-cell *matCellDef="let row"> {{row.build_number}} </mat-cell>
        </ng-container>

        <!-- Date Column -->
        <ng-container matColumnDef="date">
          <mat-header-cell *matHeaderCellDef mat-sort-header> Date </mat-header-cell>
          <mat-cell *matCellDef="let row"> {{row.date}} </mat-cell>
        </ng-container>

        <!-- Duration Column -->
        <ng-container matColumnDef="duration">
          <mat-header-cell *matHeaderCellDef mat-sort-header> Duration </mat-header-cell>
          <mat-cell *matCellDef="let row" [style.color]="row.color"> {{row.duration}} </mat-cell>
        </ng-container>

        <!-- Total TCs Column -->
        <ng-container matColumnDef="total_tcs">
          <mat-header-cell *matHeaderCellDef mat-sort-header> Total TCs </mat-header-cell>
          <mat-cell *matCellDef="let row"> {{row.total_tcs}} </mat-cell>
        </ng-container>

        <!-- Passed TCs Column -->
        <ng-container matColumnDef="passed_tcs">
          <mat-header-cell *matHeaderCellDef mat-sort-header> Passed TCs </mat-header-cell>
          <mat-cell *matCellDef="let row"> {{row.passed_tcs}} </mat-cell>
        </ng-container>

        <!-- Failed TCs Column -->
        <ng-container matColumnDef="failed_tcs">
          <mat-header-cell *matHeaderCellDef mat-sort-header> Failed TCs </mat-header-cell>
          <mat-cell *matCellDef="let row"> {{row.failed_tcs}} </mat-cell>
        </ng-container>

        <!-- Pass Rate Column -->
        <ng-container matColumnDef="pass_rate">
          <mat-header-cell *matHeaderCellDef mat-sort-header> Pass Rate </mat-header-cell>
          <mat-cell *matCellDef="let row" [style.color]="row.color"> {{row.pass_rate}} </mat-cell>
        </ng-container>

        <!-- Report Options Column -->
        <ng-container matColumnDef="reports">
          <mat-header-cell *matHeaderCellDef mat-sort-header> Report Options </mat-header-cell>
          <!--<mat-cell *matCellDef="let row" [style.color]="row.color"> {{row.reports}} </mat-cell>-->
          <mat-cell *matCellDef="let row" [style.color]="row.color">
            <a class="uk-icon-button" uk-icon="forward"></a>
            <a class="uk-icon-button" uk-icon="download"></a>
          </mat-cell>
        </ng-container>

        <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
        <mat-row *matRowDef="let row; columns: displayedColumns;">
        </mat-row>
      </mat-table>

      <mat-paginator [pageSizeOptions]="[10, 25, 100]"></mat-paginator>
    </div>
    <div class="example-container" [hidden]="!isGraphDisplayed()">
        <div *ngIf="chart">
          <canvas id="canvas">{{ chart }}</canvas>
        </div>
    </div>
  </div>
</div>
